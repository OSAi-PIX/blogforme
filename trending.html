<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Trending</title>
<link rel="stylesheet" href="theme.css">
<style>
body{font-family:monospace;background:var(--bg);color:var(--text);}
.container{max-width:900px;margin:20px auto;}
.post, .video{border:2px solid var(--border);padding:10px;margin:10px 0;background:var(--card);}
</style>
</head>
<body>
<div class="container">
<p><a href="index.html">← Back Home</a></p>
<h2>Trending</h2>
<div id="feed"></div>
</div>

<script src="data.js"></script>
<script>
function renderTrending(){
  let posts=getPosts();
  posts.sort((a,b)=>{
    let la=getLikes(a.id).length;
    let lb=getLikes(b.id).length;
    return lb-la;
  });
  let div=document.getElementById("feed");
  if(!posts.length){div.innerHTML="<p>No posts/videos yet</p>"; return;}
  div.innerHTML=posts.map(p=>{
    if(p.type==="video") return `<div class="video"><a href="video.html?id=${p.id}"><h3>${p.title}</h3></a> by ${p.author} - ❤️ ${getLikes(p.id).length}</div>`;
    else if(p.type==="blog") return `<div class="post"><a href="view.html?id=${p.id}"><h3>${p.title}</h3></a> by ${p.author} - ❤️ ${getLikes(p.id).length}</div>`;
  }).join("");
}

renderTrending();
</script>
</body>
</html>
